// src/captcha_manager.ts
import { RuntimeException } from "@poppinss/utils";
var CaptchaManager = class {
  /**
   * Config with the list of captcha providers
   */
  #config;
  #ctx;
  #driversCache = /* @__PURE__ */ new Map();
  constructor(config, ctx) {
    this.#ctx = ctx;
    this.#config = config;
  }
  /**
   * Returns the instance of a captcha provider
   */
  use(provider) {
    if (this.#driversCache.has(provider)) {
      return this.#driversCache.get(provider);
    }
    const driver = this.#config[provider];
    if (!driver) {
      throw new RuntimeException(
        `Unknown captcha provider "${String(
          provider
        )}". Make sure it is registered inside the config/captcha.ts file`
      );
    }
    const driverInstance = driver(this.#ctx);
    this.#driversCache.set(provider, driverInstance);
    return driverInstance;
  }
};

export {
  CaptchaManager
};
//# sourceMappingURL=chunk-L4HLAOFB.js.map